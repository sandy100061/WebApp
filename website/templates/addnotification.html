{% extends 'base.html' %}
<title>{% block title %} Send Notification {% endblock %}</title>
{% block content %} 
<form method="POST">
    <h3 align="center">Send Notification</h3>
    <div style="display:flex;gap:5%">      
        <div style="width: 50%;">
            <div class="form-group">
                <label for="destination">Bus Route</label>
                <select id="destination" name="destination" class="form-select" aria-label="Default select example">
                  <option selected value="0">Select Route</option>        
                  {% for route in routes %}
                    <option value="{{route.id}}">{{route.cityname}}</option>
                  {% endfor %}
                </select>
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea
                class="form-control"
                id="message"
                name="message"
                placeholder="Enter message">
            </textarea>
            </div>
            <br />
            <button type="submit" class="btn btn-primary">Send Notification</button>
        </div>
        <div style="width: 100%;">
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Bus RouteId</th>
                    <th scope="col">City Name</th>
                    <th scope="col">Message</th>
                    <th scope="col">Added Date</th>
                  </tr>
                </thead>
                <tbody>
                  {% for notification in notifications %}
                  <tr>
                    <th scope="row">{{notification.busrouteid}}</th>
                    <td>{{routeDico[notification.busrouteid]}}</td>
                    <td>{{notification.message}}</td>
                    <td>{{notification.addeddate}}</td>   
                  </tr>
                  {% endfor %}
                </tbody>
            </table>
        </div>
    </div>    
  </form>

{% endblock %}